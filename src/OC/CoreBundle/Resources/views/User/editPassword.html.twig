{% extends "OCCoreBundle::layout.html.twig" %}

{% block title %}
    Edit - {{ siteName }}
{% endblock %}

{% block titlePage %}
    Modification du mot de passe
{% endblock %}

{% block body %}

    {% if message is defined %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endif %}

    {% if error is defined %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    {% if errors is defined %}
        {% for _error in errors %}
            <div class="alert alert-danger">{{ _error.message }}</div>
        {% endfor %}
    {% endif %}


    <form action="{{ path('core_user_change_password', {'id': app.user.id}) }}" method="POST" class="form-horizontal">
        <div class="well">
            <div class="form-group">
                <label for="oldpassword" class="col-sm-2 control-label">Ancien mot de passe</label>

                <div class="col-sm-10">
                    <input type="password" id="oldpassword" name="_oldpassword" required/>
                </div>
            </div>


            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">Nouveau mot de passe</label>

                <div class="col-sm-10">
                    <input type="password" id="password" name="_password" minlength="6" data-toggle="popover" data-trigger="active" data-placement="bottom" data-content="Minimum : 6 caractères, une majuscule, une minuscule et un chiffre" required/>
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">Répétez le mot de passe</label>

                <div class="col-sm-10">
                    <input type="password" id="password" name="_repeated_password" minlength="6" required/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label"></label>

                <div class="col-sm-10">
                    <button type="submit" class="btn btn-default">Valider</button>
                </div>
            </div>
        </div>
    </form>
{% endblock %}